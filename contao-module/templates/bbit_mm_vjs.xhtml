<?php
foreach((array) $this->css as $css)		$GLOBALS['TL_HEAD'][] = '<link rel="stylesheet" href="' . $css . '" />';
foreach((array) $this->js as $js)		$GLOBALS['TL_BODY'][] = '<script type="text/javascript" src="' . $js . '"></script>';
foreach((array) $this->head as $head)	$GLOBALS['TL_HEAD'][] = $head;
foreach((array) $this->body as $body)	$GLOBALS['TL_BODY'][] = $body;
?>
<!-- indexer::stop -->
<video id="<?= $this->id; ?>"
    class="video-js vjs-default-skin vjs-big-play-centered"
    controls="controls"
    preload="auto"
    <?php if(isset($this->width)): ?>width="<?= $this->width; ?>"<?php endif; ?>
    <?php if(isset($this->height)): ?>height="<?= $this->height; ?>"<?php endif; ?>
    <?php if(isset($this->poster)): ?>poster="<?= $this->poster; ?>"<?php endif; ?>
    data-setup="<?= specialchars(json_encode((array) $this->setup)); ?>"
>
  <?php foreach((array) $this->sources as $source): ?>
    <source src="<?= $source['src']; ?>" type="<?= $source['type']; ?>" />
  <?php endforeach; ?>
</video>
<!-- indexer::continue -->